> 最近公司项目里面有一个前端批注展示的需求, 看了一圈开源社区, 大多是在截图上进行绘制的轮子, 我们的需求并不需要截图, 那么精简一下去除截图部分的功能, 就出现了符合要求的轮子了~



### 业务需要什么

1. 需要有绘图区域, 
2. 提供 `方框` `箭头` `文本` 三种绘制形状,
3. 提供预设的颜色,
4. 提供 `撤销` `恢复` 功能
5. 有回显能力


### 理论上怎么实现

1. 绘图区域很好说, 直接 `canvas` 一把梭
2. 都有现成的API进行绘制, `drawRect` `fillText` , 但是箭头的部分需要运用一些 **小学二年级** 就学过的三角函数.
3. 颜色也很好说 `strokeStyle` 
4. 这个考虑实现方式的话, 考虑了两种思路, 后面详细说明.
5. 绘制数据的存储方式


### 实现的过程


#### 绘制区域
由于是覆盖在需要表现的元素上方, 因此用了绝对定位, 在dom加载完成后对canvas进行宽高的设定. 同时要考虑到回显时 不同分辨率 下绘制图形的缩放问题.<br />那么, 需要从以下几点入手:

1. 初始化的宽高
2. 绘图基础数据的临时存储
3. 回显数据绘制的等比缩放


